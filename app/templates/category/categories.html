{% extends "index.html" %}

{% block title %}Liste des catégories{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto mt-10">
    <h1 class="text-3xl font-bold mb-6 text-center">Liste des catégories</h1>

    {% if categories %}
    <ul class="space-y-2">
        {% for id, name in categories %}
        <li class="bg-base-200 p-4 rounded shadow flex items-center justify-between">
            <span class="font-medium">{{ name }}</span>
            <div class="space-x-2">
                <a href="{{ url_for('update_category', id=id) }}" class="btn btn-sm btn-outline">Modifier</a>
                <form method="POST" action="{{ url_for('delete_category', id=id) }}" class="inline"
                    onsubmit="return confirm('Voulez-vous vraiment supprimer cette catégorie ?');">
                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
                    <button type="submit" class="btn btn-error btn-sm">Supprimer</button>
                </form>
            </div>
        </li>
        {% endfor %}
    </ul>
    {% else %}
    <div class="alert alert-info mt-4 text-center">
        Aucune catégorie pour le moment.
    </div>
    {% endif %}
    <div class="mt-6 text-center">
        <a href="{{ url_for('create_category') }}" class="btn btn-primary">Créer une nouvelle catégorie</a>
    </div>
</div>
{% endblock %}